# This file is auto-generated by h2o-3/h2o-bindings/bin/gen_R.py
# Copyright 2016 H2O.ai;  Apache License Version 2.0 (see LICENSE for details) 
#'
# -------------------------- word2vec -------------------------- #
#' 
#' Trains a word2vec model on a String column of an H2O data frame.
#' 
#' @param training_frame Id of the training data frame (Not required, to allow initial validation of model parameters).
#'        The training frame must contain a single string column containing the words to train on.
#' @param minWordFreq This will discard words that appear less than <int> times Defaults to 5.
#' @param wordModel Use the Skip-Gram model Must be one of: "SkipGram". Defaults to SkipGram.
#' @param normModel Use Hierarchical Softmax Must be one of: "HSM". Defaults to HSM.
#' @param vecSize Set size of word vectors Defaults to 100.
#' @param windowSize Set max skip length between words Defaults to 5.
#' @param sentSampleRate Set threshold for occurrence of words. Those that appear with higher frequency in the training data
#'        will be randomly down-sampled; useful range is (0, 1e-5) Defaults to 0.001.
#' @param initLearningRate Set the starting learning rate Defaults to 0.05.
#' @param epochs Number of training iterations to run Defaults to 5.
#' @export
h2o.word2vec <- function(training_frame,
                         minWordFreq = 5,
                         wordModel = c("SkipGram"),
                         normModel = c("HSM"),
                         vecSize = 100,
                         windowSize = 5,
                         sentSampleRate = 0.001,
                         initLearningRate = 0.05,
                         epochs = 5
                         ) 
{

  # Required args: training_frame
  if( missing(training_frame) ) stop("argument 'training_frame' is missing, with no default")
  # Training_frame must be a key or an H2OFrame object
  if (!is.H2OFrame(training_frame))
     tryCatch(training_frame <- h2o.getFrame(training_frame),
           error = function(err) {
             stop("argument 'training_frame' must be a valid H2OFrame or key")
           })
  # Parameter list to send to model builder
  parms <- list()
  parms$training_frame <- training_frame

  if (!missing(minWordFreq))
    parms$minWordFreq <- minWordFreq
  if (!missing(wordModel))
    parms$wordModel <- wordModel
  if (!missing(normModel))
    parms$normModel <- normModel
  if (!missing(vecSize))
    parms$vecSize <- vecSize
  if (!missing(windowSize))
    parms$windowSize <- windowSize
  if (!missing(sentSampleRate))
    parms$sentSampleRate <- sentSampleRate
  if (!missing(initLearningRate))
    parms$initLearningRate <- initLearningRate
  if (!missing(epochs))
    parms$epochs <- epochs
  # Error check and build model
  .h2o.modelJob('word2vec', parms, h2oRestApiVersion=3) 
}

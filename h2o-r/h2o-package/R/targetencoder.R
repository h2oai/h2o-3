# This file is auto-generated by h2o-3/h2o-bindings/bin/gen_R.py
# Copyright 2016 H2O.ai;  Apache License Version 2.0 (see LICENSE for details) 
#'
# -------------------------- targetencoder -------------------------- #
#' @param x A vector containing the \code{character} names of the predictors in the model.
#' @param blending \code{Logical}. Is blending used ? True if blending is used, false if not. True by default. Defaults to FALSE.
#' @param encoded_columns Columnds to encode.
#' @param target_column Target column for the encoding
#' @param k Parameter 'f' used for blending (if enabled). Blending is to be enabled separaterly using the 'blending'
#'        parameter. Defaults to 0.
#' @param f Parameter 'k' used for blending (if enabled). Blending is to be enabled separaterly using the 'blending'
#'        parameter. Defaults to 0.
#' @param data_leakage_handling Data leakage handling strategy. Default to None. Must be one of: "None", "KFold", "LeaveOneOut".
#' @param model_id Destination id for this model; auto-generated if not specified.
#' @param fold_column Column with cross-validation fold index assignment per observation.
#' @export
h2o.targetencoder <- function(training_frame, x,
                              blending = FALSE,
                              encoded_columns = NULL,
                              target_column = NULL,
                              k = 0,
                              f = 0,
                              data_leakage_handling = c("None", "KFold", "LeaveOneOut"),
                              model_id = NULL,
                              fold_column = NULL
                              ) 
{
  # Validate required training_frame first and other frame args: should be a valid key or an H2OFrame object
  training_frame <- .validate.H2OFrame(training_frame, required=TRUE)

  # Handle other args
  # Parameter list to send to model builder
  parms <- list()
  parms$training_frame <- training_frame
  if(!missing(x))
    parms$ignored_columns <- .verify_datacols(training_frame, x)$cols_ignore
 if(missing(encoded_columns) && !missing(x)){
     parms$encoded_columns <- x
 }
 parms$response_column <- target_column
  if (!missing(blending))
    parms$blending <- blending
  if (!missing(encoded_columns))
    parms$encoded_columns <- encoded_columns
  if (!missing(target_column))
    parms$target_column <- target_column
  if (!missing(k))
    parms$k <- k
  if (!missing(f))
    parms$f <- f
  if (!missing(data_leakage_handling))
    parms$data_leakage_handling <- data_leakage_handling
  if (!missing(model_id))
    parms$model_id <- model_id
  if (!missing(fold_column))
    parms$fold_column <- fold_column
  # Error check and build model
  .h2o.modelJob('targetencoder', parms, h2oRestApiVersion = 3) 
}
